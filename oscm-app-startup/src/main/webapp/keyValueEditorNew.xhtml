<!-- Copyright FUJITSU LIMITED 2018-->
<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:b="http://bootsfaces.net/ui" 
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:a4j="http://richfaces.org/a4j"
>

 

    <b:panel look="primary" title="#{msg['ui.config.title']}" collapsible="false">
      <h:outputText value="#{msg['ui.config.description']}" /> 
  
    <h:form id="configurationSettings" >
        <h:inputHidden value="#{appConfigurationModel.token}"/>
        <h:inputHidden id="dirty" value="#{appConfigurationModel.dirty}"/>
        <h:inputHidden id="selectedControllerId"
                       value="#{appConfigurationModel.selectedControllerId}"/>
        <a4j:commandButton id="deleteController"
                           action="#{appConfigurationCtrl.deleteController}"
                           style="display: none;"
                           render="configurationSettings"/>

        <b:dataTable responsive="true" paginated="false" searching="false"
                        value="#{appConfigurationModel.keys}" var="key">
            <b:dataTableColumn>
                <f:facet name="header">
                    <h:outputText value="#{msg['ui.config.column.key']}"/>
                </f:facet>
                <h:outputText value="#{key}"/>
                <f:facet name="footer">
                    <h:inputText id="newControllerId"
                                 value="#{appConfigurationModel.newControllerId}"
                                />
                </f:facet>
            </b:dataTableColumn>
            <b:dataTableColumn order-by="dom-text" >
                <f:facet name="header">
                    <h:outputText value="#{msg['ui.config.column.value']}"/>
                </f:facet>
                <b:inputText id="configurationValue"
                             value="#{appConfigurationModel.items[key]}"/>
                <f:facet name="footer">
                    <h:inputText id="newOrgnizationId"
                                 value="#{appConfigurationModel.newOrganizationId}"/>
                </f:facet>
            </b:dataTableColumn>
             <b:dataTableColumn  header-style-class="hidden">
                <h:commandLink value="#{msg['ui.config.action.delete']}"
                               type="submit"/>
            </b:dataTableColumn>
           <b:dataTableColumn header-style-class="hidden" >

				<b:commandButton id="pingButton" class="connectivity_check_button"
					disabled="#{!appConfigurationModel.pingButtonVisibilityMap[key]}"
					value="#{appConfigurationModel.pingButtonVisibilityMap[key] ? msg['ui.config.action.ping'] : msg['ui.app.controller.not.configured'] }"
					action="#{appConfigurationCtrl.invokePing(key)}" />
			</b:dataTableColumn>
        </b:dataTable>

    <b:buttonGroup>
      <b:commandButton look="primary" class="oscm_app_button" value="#{msg['ui.config.action.save']}" type="submit" action="#{appConfigurationCtrl.save}" />
    </b:buttonGroup>
  </h:form>

   </b:panel> 
</ui:composition>
